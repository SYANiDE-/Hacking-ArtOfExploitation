#include <stdio.h>
#include <stdlib.h>
#include <string.h>

/* This prog accounts for offsets due to filename lengths of this prog and 
 * the target prog.  Output is true location at time of targ prog runtime
 * where the environment variable will be located.
 */

int main(int argc, char *argv[]){
   if(argc<3){printf("USAGE: %s [env_var] [target prog name]\n", argv[0]);exit(0);}
   char *ptr;
   ptr = getenv(argv[1]);
   ptr += (strlen(argv[0]) - strlen(argv[2]))*2;
   printf("%s true memloc %p\n", argv[1], ptr);
}
