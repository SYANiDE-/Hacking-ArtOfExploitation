#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <netdb.h>

/* from netdb.h
struct hostent{
   char *h_name;                 // Official name of host.
   char **h_aliases;             // Alias list.
   int h_addrtype;               // Host address type.
   int h_length;                 // Length of address.
   char **h_addr_list;           /; List of addresses from name server.
#define h_addr  h_addr_list[0]   /; Address, for backward compatibility.
};*/

int main(int argc, char *argv[]){
   struct hostent *host_info;
   struct in_addr *addr;
   if(argc < 2){printf("USAGE: %s [fqdn]\n"); exit(-1);}
   host_info = gethostbyname(argv[1]);
   if (!(host_info == NULL)){
      addr = (struct in_addr *) (host_info->h_addr);
      printf("%s %s\n", argv[1], inet_ntoa(*addr));
   }else{
      printf("Failed lookup \"%s\"\n", argv[1]);
   }
   return(0);
}
