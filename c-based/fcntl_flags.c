#include <stdio.h>
#include <fcntl.h>
void fl_disp(char *, unsigned int);
void bin_prn(unsigned int);

/*
 * O_RDONLY    Open file RO
 * O_WRONLY    Open file WO
 * O_RDWR      Open file R+W
 * O_APPEND    W data to EOF
 * O_TRUNC     :> ./file if exists
 * O_CREAT     Equiv to touch
 */

int main(){
   fl_disp("O_RDONLY", O_RDONLY);
   fl_disp("O_WRONLY", O_WRONLY);
   fl_disp("O_RDWR", O_RDWR);
   printf("\n");
   fl_disp("O_APPEND", O_APPEND);
   fl_disp("O_TRUNC", O_TRUNC);
   fl_disp("O_CREAT", O_CREAT);
   printf("\n");
   fl_disp("O_WRONLY|O_APPEND|O_CREAT", O_WRONLY|O_APPEND|O_CREAT);
}

void fl_disp(char *label, unsigned int value){
   printf("%-30s: %-7d:", label, value);
   bin_prn(value);
   printf("\n");
}

void bin_prn(unsigned int value){
   unsigned int mask = 0xff000000;
   unsigned int shift = 256*256*256;
   unsigned int byte, byte_iter, bit_iter;
   for(byte_iter=0; byte_iter<4; byte_iter++){
      byte = (value & mask) / shift;
      printf(" ");
      for(bit_iter=0; bit_iter<8; bit_iter++){
         if(byte & 0x80){
            printf("1");
         }else{
            printf("0");
         }
         byte *= 2;
      }
      mask /= 256;
      shift /= 256;
   }
}
