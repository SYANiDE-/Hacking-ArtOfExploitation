#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct abra {
   // structs point to addresses; 4byte,4byte,4byte,1byte
   int a;
   int b;
   int c;
   char *d;
};

int dummy(){
   printf("Totally called the function pointer\n");
   return(0);
}


int main(int argc, char *argv[]) {
   struct abra cadabra, *ambabla;
   int one, two, three; 
   void *iter;
   char *four;
   int (*fncptr) ();
   ambabla = &cadabra;
   one = 111;
   two = 222;
   three = 333;
   four = "wysiwyg";
   /* direct-access:  one = cadabra.a;
    * pointer-access:  one = ambabla->a;
    * hackey-pointer-access:  *(int *) cadabra.a;
    */
   cadabra.a = one;
   cadabra.b = two;
   cadabra.c = three;
   iter = (int *) &one;
   iter = iter + 3; //increment pointer by three, so rests at char arr
   iter = (char *) four; //iter now points to char arr mem addr
   cadabra.d = (char *)iter; //set struct char elem to addr pointed to by iter
   printf("%p, %p, %p, %p\n", &ambabla->a, &ambabla->b, &ambabla->c, &ambabla->d);
   printf("%d, %d, %d, %s\n", cadabra.a, cadabra.b, cadabra.c, cadabra.d);
   /*Function pointer
    *
    */
   fncptr = dummy;
   fncptr();
   return(0);
}
